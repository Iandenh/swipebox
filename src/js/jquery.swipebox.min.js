/*! Swipebox v1.2.9 | Constantin Saguin csag.co | MIT License | github.com/brutaldesign/swipebox */(function(e,t,n,r){n.swipebox=function(i,s){n(e).on("popstate",function(){o.closeSlide(!1)});var o,u={useCSS:!0,useSVG:!0,initialIndexOnArray:0,closeBySwipe:!0,hideBarsOnMobile:!1,hideBarsDelay:3e3,videoMaxWidth:1140,vimeoColor:"CCCCCC",beforeOpen:null,afterOpen:null,afterClose:null},a=this,f=[],l,c=i.selector,h=n(c),p=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),d=p!==null||t.createTouch!==r||"ontouchstart"in e||"onmsgesturechange"in e||navigator.msMaxTouchPoints,v=!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,m=e.innerWidth?e.innerWidth:n(e).width(),g=e.innerHeight?e.innerHeight:n(e).height(),y=0,b='<div id="swipebox-overlay">					<div id="swipebox-slider"></div>					<div id="swipebox-caption"></div>					<div id="swipebox-action">						<a id="swipebox-close"></a>						<a id="swipebox-prev"></a>						<a id="swipebox-next"></a>					</div>			</div>';a.settings={},a.init=function(){a.settings=n.extend({},u,s),n.isArray(i)?(f=i,o.target=n(e),o.init(a.settings.initialIndexOnArray)):n(t).on("click",c,function(e){if(e.target.parentNode.className==="slide current")return!1;n.isArray(i)||(o.destroy(),l=n(c),o.actions()),f=[];var t,r,s;s||(r="data-rel",s=n(this).attr(r)),s||(r="rel",s=n(this).attr(r)),s&&s!==""&&s!=="nofollow"?l=h.filter("["+r+'="'+s+'"]'):l=n(c),l.each(function(){var e=null,t=null;n(this).attr("title")&&(e=n(this).attr("title")),n(this).attr("href")&&(t=n(this).attr("href")),f.push({href:t,title:e})}),t=l.index(n(this)),e.preventDefault(),e.stopPropagation(),o.target=n(e.target),o.init(t)})},o={init:function(e){a.settings.beforeOpen&&a.settings.beforeOpen(),this.target.trigger("swipebox-start"),n.swipebox.isOpen=!0,this.build(),this.openSlide(e),this.openMedia(e),this.preloadMedia(e+1),this.preloadMedia(e-1),a.settings.afterOpen&&a.settings.afterOpen()},build:function(){var e=this,t;n("body").append(b),e.doCssTrans()&&(n("#swipebox-slider").css({"-webkit-transition":"-webkit-transform 0.4s ease","-moz-transition":"-moz-transform 0.4s ease","-o-transition":"-o-transform 0.4s ease","-khtml-transition":"-khtml-transform 0.4s ease","-ms-transition":"-ms-transform 0.4s ease",transition:"transform 0.4s ease"}),n("#swipebox-overlay").css({"-webkit-transition":"opacity 1s ease","-moz-transition":"opacity 1s ease","-o-transition":"opacity 1s ease","-khtml-transition":"opacity 1s ease","-ms-transition":"opacity 1s ease",transition:"opacity 1s ease"}),n("#swipebox-action, #swipebox-caption").css({"-webkit-transition":"0.5s","-moz-transition":"0.5s","-o-transition":"0.5s","-khtml-transition":"0.5s","-ms-transition":"0.5s",transition:"0.5s"})),v&&a.settings.useSVG===!0&&(t=n("#swipebox-action #swipebox-close").css("background-image"),t=t.replace("png","svg"),n("#swipebox-action #swipebox-prev,#swipebox-action #swipebox-next,#swipebox-action #swipebox-close").css({"background-image":t})),p&&a.settings.hideBarsOnMobile===!0,n.each(f,function(){n("#swipebox-slider").append('<div class="slide"></div>')}),e.setDim(),e.actions(),d&&e.gesture(),e.keyboard(),e.animBars(),e.resize()},setDim:function(){var t,r,i={};"onorientationchange"in e?e.addEventListener("orientationchange",function(){if(e.orientation===0)t=m,r=g;else if(e.orientation===90||e.orientation===-90)t=g,r=m},!1):(t=e.innerWidth?e.innerWidth:n(e).width(),r=e.innerHeight?e.innerHeight:n(e).height()),i={width:t,height:r},n("#swipebox-overlay").css(i)},resize:function(){var t=this;n(e).resize(function(){t.setDim()}).resize()},supportTransition:function(){var e="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" "),n;for(n=0;n<e.length;n++)if(t.createElement("div").style[e[n]]!==r)return e[n];return!1},doCssTrans:function(){if(a.settings.useCSS&&this.supportTransition())return!0},gesture:function(){var e=this,t=null,r=null,i=null,s=null,o=!1,u=!1,f=10,l=50,c={},h={},p=n("#swipebox-caption, #swipebox-action"),d=n("#swipebox-slider");p.addClass("visible-bars"),e.setTimeout(),n("body").bind("touchstart",function(e){return n(this).addClass("touching"),o=!1,u=!1,h=e.originalEvent.targetTouches[0],c.pageX=e.originalEvent.targetTouches[0].pageX,c.pageY=e.originalEvent.targetTouches[0].pageY,n("#swipebox-slider").css({"-webkit-transform":"translateX("+y+"%)","-moz-transform":"translateX("+y+"%)","-o-transform":"translateX("+y+"%)","-khtml-transform":"translateX("+y+"%)","-ms-transform":"translateX("+y+"%)",transform:"translateX("+y+"%)"}),n(".touching").bind("touchmove",function(e){e.preventDefault(),e.stopPropagation(),h=e.originalEvent.targetTouches[0];if(!u&&a.settings.closeBySwipe){s=r,r=h.pageY-c.pageY;if(Math.abs(r)>=l||o){var p=.75-Math.abs(r)/d.height();d.css({top:r+"px"}),d.css({opacity:p}),o=!0}}i=t,t=h.pageX-c.pageX,hDistancePercent=t*100/m,!u&&!o&&Math.abs(t)>=f&&(n("#swipebox-slider").css({"-webkit-transition":"","-moz-transition":"","-o-transition":"","-khtml-transition":"","-ms-transition":"",transition:""}),u=!0),u&&n("#swipebox-slider").css({"-webkit-transform":"translateX("+(y+hDistancePercent)+"%)","-moz-transform":"translateX("+(y+hDistancePercent)+"%)","-o-transform":"translateX("+(y+hDistancePercent)+"%)","-khtml-transform":"translateX("+(y+hDistancePercent)+"%)","-ms-transform":"translateX("+(y+hDistancePercent)+"%)",transform:"translateX("+(y+hDistancePercent)+"%)"})}),!1}).bind("touchend",function(a){a.preventDefault(),a.stopPropagation(),n("#swipebox-slider").css({"-webkit-transition":"-webkit-transform 0.4s ease","-moz-transition":"-moz-transform 0.4s ease","-o-transition":"-o-transform 0.4s ease","-khtml-transition":"-khtml-transform 0.4s ease","-ms-transition":"-ms-transform 0.4s ease",transition:"transform 0.4s ease"}),r=h.pageY-c.pageY,t=h.pageX-c.pageX,hDistancePercent=t*100/m;if(o){o=!1;if(Math.abs(r)>=2*l&&Math.abs(r)>Math.abs(s)){var v=r>0?d.height():-d.height();d.animate({top:v+"px",opacity:0},300,function(){e.closeSlide(!0)})}else d.animate({top:0,opacity:1},300)}else u?(u=!1,t>=f&&t>=i?e.getPrev():t<=-f&&t<=i&&e.getNext()):p.hasClass("visible-bars")?(e.clearTimeout(),e.hideBars()):(e.showBars(),e.setTimeout());n("#swipebox-slider").css({"-webkit-transform":"translateX("+y+"%)","-moz-transform":"translateX("+y+"%)","-o-transform":"translateX("+y+"%)","-khtml-transform":"translateX("+y+"%)","-ms-transform":"translateX("+y+"%)",transform:"translateX("+y+"%)"}),n(".touching").off("touchmove").removeClass("touching")})},setTimeout:function(){if(a.settings.hideBarsDelay>0){var t=this;t.clearTimeout(),t.timeout=e.setTimeout(function(){t.hideBars()},a.settings.hideBarsDelay)}},clearTimeout:function(){e.clearTimeout(this.timeout),this.timeout=null},showBars:function(){var e=n("#swipebox-caption, #swipebox-action");this.doCssTrans()?e.addClass("visible-bars"):(n("#swipebox-caption").animate({top:0},500),n("#swipebox-action").animate({bottom:0},500),setTimeout(function(){e.addClass("visible-bars")},1e3))},hideBars:function(){},animBars:function(){var e=this,t=n("#swipebox-caption, #swipebox-action");t.addClass("visible-bars"),e.setTimeout(),n("#swipebox-slider").click(function(){t.hasClass("visible-bars")||(e.showBars(),e.setTimeout())})},keyboard:function(){var t=this;n(e).bind("keyup",function(e){e.preventDefault(),e.stopPropagation(),e.keyCode===37?t.getPrev():e.keyCode===39?t.getNext():e.keyCode===27&&t.closeSlide(!0)})},actions:function(){var e=this,t="touchend click";f.length<2?n("#swipebox-prev, #swipebox-next").hide():(n("#swipebox-prev").bind(t,function(t){t.preventDefault(),t.stopPropagation(),e.getPrev(),e.setTimeout()}),n("#swipebox-next").bind(t,function(t){t.preventDefault(),t.stopPropagation(),e.getNext(),e.setTimeout()})),n("#swipebox-close").bind(t,function(){e.closeSlide(!0)})},setSlide:function(e,t){t=t||!1;var r=n("#swipebox-slider");y=-e*100,this.doCssTrans()?r.css({"-webkit-transform":"translateX("+ -e*100+"%)","-moz-transform":"translateX("+ -e*100+"%)","-o-transform":"translateX("+ -e*100+"%)","-khtml-transform":"translateX("+ -e*100+"%)","-ms-transform":"translateX("+ -e*100+"%)",transform:"translateX("+ -e*100+"%)"}):r.animate({left:-e*100+"%"}),n("#swipebox-slider .slide").removeClass("current"),n("#swipebox-slider .slide").eq(e).addClass("current"),this.setTitle(e),t&&r.fadeIn(),n("#swipebox-prev, #swipebox-next").removeClass("disabled"),e===0?n("#swipebox-prev").addClass("disabled"):e===f.length-1&&n("#swipebox-next").addClass("disabled")},openSlide:function(t){n("html").addClass("swipebox-html"),d&&n("html").addClass("swipebox-touch"),n(e).trigger("resize"),this.setSlide(t,!0)},preloadMedia:function(e){var t=this,n=null;f[e]!==r&&(n=f[e].href),t.isVideo(n)?t.openMedia(e):setTimeout(function(){t.openMedia(e)},1e3)},openMedia:function(e){var t=this,i=null;f[e]!==r&&(i=f[e].href);if(e<0||e>=f.length)return!1;t.isVideo(i)?n("#swipebox-slider .slide").eq(e).html(t.getVideo(i)):t.loadMedia(i,function(){n("#swipebox-slider .slide").eq(e).html(this)})},setTitle:function(e){var t=null;n("#swipebox-caption").empty(),f[e]!==r&&(t=f[e].title),t&&n("#swipebox-caption").append(t)},isVideo:function(e){if(e)if(e.match(/youtube\.com\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/))return!0},getVideo:function(e){var t="",n=e.match(/watch\?v=([a-zA-Z0-9\-_]+)/),r=e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/),i=e.match(/vimeo\.com\/([0-9]*)/);return n||r?(r&&(n=r),t='<iframe width="560" height="315" src="//www.youtube.com/embed/'+n[1]+'" frameborder="0" allowfullscreen></iframe>'):i&&(t='<iframe width="560" height="315"  src="//player.vimeo.com/video/'+i[1]+"?byline=0&amp;portrait=0&amp;color="+a.settings.vimeoColor+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'),'<div class="swipebox-video-container" style="max-width:'+a.settings.videomaxWidth+'px"><div class="swipebox-video">'+t+"</div></div>"},loadMedia:function(e,t){if(!this.isVideo(e)){var r=n("<img>").on("load",function(){t.call(r)});r.attr("src",e)}},getNext:function(){var e=this,t=n("#swipebox-slider .slide").index(n("#swipebox-slider .slide.current"));t+1<f.length?(t++,e.setSlide(t),e.preloadMedia(t+1)):(n("#swipebox-slider").addClass("rightSpring"),setTimeout(function(){n("#swipebox-slider").removeClass("rightSpring")},500))},getPrev:function(){var e=n("#swipebox-slider .slide").index(n("#swipebox-slider .slide.current"));e>0?(e--,this.setSlide(e),this.preloadMedia(e-1)):(n("#swipebox-slider").addClass("leftSpring"),setTimeout(function(){n("#swipebox-slider").removeClass("leftSpring")},500))},closeSlide:function(t){t==1&&history&&history.pushState&&e.history.back(),n("html").removeClass("swipebox-html"),n("html").removeClass("swipebox-touch"),n(e).trigger("resize"),this.destroy()},destroy:function(){n(e).unbind("keyup"),n("body").unbind("touchstart"),n("body").unbind("touchmove"),n("body").unbind("touchend"),n("#swipebox-slider").unbind(),n("#swipebox-overlay").remove(),n.isArray(i)||i.removeData("_swipebox"),this.target&&this.target.trigger("swipebox-destroy"),n.swipebox.isOpen=!1,a.settings.afterClose&&a.settings.afterClose()}},a.init()},n.fn.swipebox=function(e){if(!n.data(this,"_swipebox")){var t=new n.swipebox(this,e);this.data("_swipebox",t)}return this.data("_swipebox")}})(window,document,jQuery);